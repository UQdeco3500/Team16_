<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./css/exercise.css">
  <title>Countdown Timer</title>
  <style>
    .wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .wrapper span {
      margin: 0 0.5rem;
      margin-bottom: 200px;
    }
    .cat {
        display: flex;
        flex-direction: column;
        align-items: center;
        }
  </style>
</head>
<body>
  <div class="cat">
    <img src="./image/cat4.png" alt="cat4">
  </div>
  <div class="wrapper">
    <span id="minutes"></span>
    <span>:</span>
    <span id="seconds"></span>
  </div>
  <div id="image-container"></div>
  <div class="footer">
    <a href="ranklist.html"><img src="./image/ranklist.png" alt="Rank List icon"></a>
    <a href="exercise.html"><img src="./image/exercise.png" alt="Exercise icon"></a>
    <a href="home.html" class="home-icon"><img src="./image/home.png" alt="Home icon"></a>
    <a href="community.html"><img src="./image/social.png" alt="Social icon"></a>
    <a href="profile.html"><img src="./image/profile.png" alt="Profile icon"></a>
  </div>
  <script>
    let deadline = new Date();
    deadline.setMinutes(deadline.getMinutes() + 30); // 设置截止日期为当前时间加上30分钟
    let minutes = document.getElementById("minutes");
    let seconds = document.getElementById("seconds");
    let imageContainer = document.getElementById("image-container");

    function updateCountdown() {
      let now = new Date();
      let timeLeft = deadline - now;

      if (timeLeft < 0) {
        clearInterval(timer);
        minutes.innerHTML = "00";
        seconds.innerHTML = "00";
        addImage();
        return;
      }

      let minutesLeft = Math.floor((timeLeft / (1000 * 60)) % 60);
      let secondsLeft = Math.floor((timeLeft / 1000) % 60);

      minutes.innerHTML = minutesLeft < 10 ? "0" + minutesLeft : minutesLeft;
      seconds.innerHTML = secondsLeft < 10 ? "0" + secondsLeft : secondsLeft;
    }

    function addImage() {
      let image = document.createElement("img");
      image.src = "./image/catbowlfish.png";
      imageContainer.appendChild(image);
    }

    let timer = setInterval(updateCountdown, 1000);
  </script>
</body>
</html>